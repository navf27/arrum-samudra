import React from "react";
import { motion } from "motion/react";
import { useLocation, useNavigate } from "react-router-dom";
import { useMainContext } from "../../context/MainContext";

const ModalProductCategory = ({ isVisible, setState }) => {
  //   if (!isVisible) return;
  //   const [isVisible, setIsVisible] = useState(false);
  // Variants untuk animasi
  //   const containerVariants = {
  //     hidden: {
  //       scaleY: 0, // Ukuran Y dimulai dari 0 (komponen tersembunyi)
  //       originY: 1, // Titik asal animasi di bagian bawah (untuk memanjang ke atas)
  //       opacity: 0, // Sembunyikan konten
  //     },
  //     visible: {
  //       scaleY: 1, // Animasi memanjang ke atas
  //       originY: 1, // Titik asal tetap di bagian bawah
  //       opacity: 1, // Konten terlihat
  //       transition: {
  //         duration: 0.5, // Durasi animasi
  //         ease: "easeInOut",
  //       },
  //     },
  //   };
  const { activeCategory, setOtherSelected } = useMainContext();
  const location = useLocation();
  const navigate = useNavigate();

  const containerVariants = {
    hidden: {
      x: "100%", // Elemen dimulai di luar layar ke kanan (arah kiri)
      opacity: 0, // Sembunyikan konten
    },
    visible: {
      x: 0, // Elemen bergerak ke posisi normal (ke kiri)
      opacity: 1, // Konten sepenuhnya terlihat
      transition: {
        duration: 0.5, // Durasi animasi
        ease: "easeInOut", // Transisi yang halus
      },
    },
    exit: {
      x: "100%", // Animasi keluar bergerak ke kanan (keluar layar)
      opacity: 0, // Sembunyikan konten
      transition: {
        duration: 0.5, // Durasi animasi keluar
        ease: "easeInOut", // Transisi yang halus
      },
    },
  };

  return (
    <div
      className={`absolute ${
        location.pathname.includes("/find")
          ? "right-16 bottom-[0px]"
          : "-right-1 bottom-[125px]"
      } ${isVisible ? "z-10" : "-z-10"}`}
    >
      {/* Komponen dengan animasi */}
      <motion.div
        variants={containerVariants}
        initial="hidden"
        animate={isVisible ? "visible" : "hidden"}
        className="bg-white shadow-lg p-4 rounded-2xl flex gap-4"
      >
        <div className="flex flex-col items-center w-fit">
          <button
            onClick={() => {
              navigate("/find/craft");
              setOtherSelected(true);
              setState(false);
            }}
            className={`w-12 h-12 ${
              activeCategory === "Craft" ? "bg-red-600" : "bg-[#0795ff]"
            } rounded-full grid place-content-center`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlSpace="preserve"
              width={64}
              height={64}
              fill="#fff"
              stroke="#fff"
              strokeWidth={0.005}
              viewBox="0 0 512 512"
              className="w-8"
            >
              <circle cx={332.087} cy={241.789} r={12.739} />
              <path d="M286.768 342.026c-1.054-7.478-4.554-21.001-16.161-27.545-4.165-2.349-8.936-3.54-14.179-3.54-7.011 0-13.525 2.153-17.755 3.961-14.519 6.205-28.064 19.015-37.16 35.145-9.096 16.13-13.052 34.347-10.85 49.983 1.054 7.478 4.556 21.001 16.161 27.545 4.165 2.349 8.935 3.54 14.178 3.54 7.011 0 13.526-2.154 17.757-3.962 14.518-6.204 28.063-19.014 37.159-35.144s13.051-34.348 10.85-49.983zm-25.028 41.986c-7.375 13.077-18.083 23.347-29.378 28.174-4.004 1.71-8.038 2.652-11.361 2.652-2.406 0-4.487-.484-6.181-1.44-5.721-3.227-7.529-12.013-8.039-15.64-1.713-12.164 1.535-26.64 8.91-39.716 7.375-13.077 18.084-23.347 29.378-28.174 4.003-1.71 8.038-2.651 11.359-2.651 2.407 0 4.488.484 6.184 1.44 5.721 3.227 7.528 12.012 8.039 15.639 1.711 12.164-1.536 26.64-8.911 39.716z" />
              <path d="M495.74 331.388c-20.018-35.493-54.563-58.427-88.01-58.427-.693 0-1.383.011-2.071.031l-23-31.167 46.167-62.557c23.982-32.496 17.055-78.445-15.442-102.426a8.136 8.136 0 0 0-11.381 1.716l-69.917 94.74-69.916-94.74a8.136 8.136 0 0 0-11.38-1.716c-32.498 23.982-39.424 69.931-15.442 102.426l46.167 62.557-23 31.167a71.245 71.245 0 0 0-2.071-.031c-11.869 0-23.873 2.901-35.321 8.214v-66.473c0-31.49-25.62-57.111-57.111-57.111h-.05v-24.098a8.137 8.137 0 0 0-8.138-8.138h-13.111L125.37 54.268a9.068 9.068 0 0 0-.104-.383c-1.945-6.568-7.853-10.981-14.704-10.981-6.85 0-12.759 4.412-14.704 10.981a7.459 7.459 0 0 0-.102.383l-17.344 71.087H65.3a8.137 8.137 0 0 0-8.138 8.138v24.098h-.051C25.62 157.591 0 183.211 0 214.701v197.281c0 31.49 25.62 57.111 57.111 57.111h106.9a56.86 56.86 0 0 0 27.136-6.866c9.143 4.554 19.162 6.867 29.842 6.867 33.445 0 67.993-22.937 88.009-58.428 16.224-28.768 19.982-60.428 12.664-86.186l10.424-14.125 10.424 14.125c-7.318 25.758-3.56 57.418 12.664 86.186 20.016 35.49 54.562 58.424 88.009 58.428h.009c11.845 0 22.886-2.84 32.814-8.439 38.754-21.856 47.607-79.845 19.734-129.267zM409.922 95.237c19.832 19.558 22.819 51.315 5.807 74.367l-43.184 58.515-30.344-41.118 67.721-91.764zm-299.361-32.99 15.396 63.108H95.165l15.396-63.108zm-37.123 79.384h74.246v15.959H73.438v-15.959zm90.573 311.184h-106.9c-22.516 0-40.834-18.318-40.834-40.834v-197.28c0-22.516 18.318-40.834 40.834-40.834h106.9c22.516 0 40.834 18.318 40.834 40.834v75.894c-8.593 6.045-16.471 13.417-23.408 21.832V235.01c0-12.188-9.916-22.104-22.105-22.104H61.789c-12.188 0-22.105 9.916-22.105 22.104v156.665c0 12.188 9.916 22.105 22.105 22.105h92.878c3.495 14.814 10.426 27.431 20.232 36.917.075.072.146.147.221.219.098.094.19.193.288.286a40.885 40.885 0 0 1-11.397 1.613zm-11.886-59.83c.008.415.012.831.025 1.245.026.879.065 1.755.112 2.63.011.214.014.43.028.643H61.789a5.834 5.834 0 0 1-5.828-5.828V235.009a5.834 5.834 0 0 1 5.828-5.827h97.544a5.834 5.834 0 0 1 5.828 5.827V337.57c-.227.457-.437.92-.66 1.38-8.073 16.721-12.704 35.418-12.376 54.035zm142.696 9.684c-17.18 30.463-46.161 50.149-73.832 50.149-9.014 0-17.367-2.133-24.826-6.339-.328-.186-.638-.394-.961-.586-.016-.01-.029-.021-.044-.031-32.708-20.316-31.238-66.356-17.087-97.531 8.478-18.677 22.007-35.412 39.319-46.565.241-.156.466-.329.688-.507 12.179-7.709 25.415-12.02 38.363-12.02 1.744 0 3.454.105 5.146.264.019.002.036.008.055.009 20.583 1.719 36.841 16.766 43.41 35.969.075.218.174.421.265.63 7.295 21.995 4.179 50.536-10.496 76.558zm19.643-95.847c.604-.819-5.624-8.442-6.438-9.445a67.552 67.552 0 0 0-8.792-9 64.628 64.628 0 0 0-22.666-12.441l15.058-20.405 30.344 41.117c.002 0-7.506 10.173-7.506 10.174zm-66.019-137.217c-17.012-23.052-14.026-54.808 5.807-74.367 0 0 133.351 180.698 133.353 180.699-.542-.734-9.722 3.883-10.603 4.339-11.501 5.946-20.915 15.31-27.291 26.546L248.445 169.605zM468.01 446.478c-7.458 4.205-15.807 6.339-24.824 6.339-27.673-.003-56.654-19.688-73.833-50.149-14.676-26.023-17.792-54.563-10.499-76.561.091-.208.19-.412.265-.629 6.532-19.131 22.795-34.001 43.41-35.969.019-.001.036-.007.055-.009a54.879 54.879 0 0 1 5.146-.264c27.671 0 56.652 19.683 73.833 50.147 23.464 41.604 17.383 89.647-13.553 107.095z" />
              <path d="M462.66 350.048c-9.096-16.131-22.641-28.941-37.162-35.146-4.229-1.807-10.743-3.961-17.753-3.961-5.244 0-10.013 1.191-14.18 3.54-11.607 6.546-15.107 20.067-16.16 27.545-2.201 15.636 1.754 33.853 10.85 49.983 9.096 16.131 22.641 28.94 37.16 35.145 4.23 1.807 10.745 3.961 17.754 3.961 5.244 0 10.012-1.191 14.178-3.539 11.608-6.547 15.108-20.069 16.162-27.548 2.204-15.633-1.751-33.851-10.849-49.98zm-5.268 47.71c-.511 3.627-2.317 12.412-8.039 15.64-1.695.956-3.775 1.44-6.182 1.44-3.321 0-7.356-.941-11.36-2.652-11.295-4.826-22.003-15.096-29.378-28.174-7.375-13.076-10.622-27.553-8.911-39.717.511-3.626 2.317-12.411 8.039-15.639 1.696-.956 3.776-1.44 6.183-1.44 3.322 0 7.356.941 11.359 2.651 11.297 4.828 22.005 15.097 29.379 28.174 7.377 13.079 10.623 27.555 8.91 39.717z" />
            </svg>
          </button>
          <p className="text-xs mt-2 text-center">Craft</p>
        </div>
        <div className="flex flex-col items-center w-fit">
          <button
            onClick={() => {
              navigate("/find/desa-wisata");
              setOtherSelected(true);
              setState(false);
            }}
            className={`w-12 h-12 ${
              activeCategory === "Desa Wisata" ? "bg-red-500" : "bg-[#0795ff]"
            } rounded-full grid place-content-center`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={64}
              height={64}
              fill="#fff"
              stroke="#fff"
              strokeWidth={0}
              viewBox="0 0 36 36"
              className="w-8 mt-2"
            >
              <g stroke="none">
                <path d="M20.912 18.228h2.091v2.091h-2.091zM28.14 18.228h2.091v2.091H28.14zM26.386 10.812v-2.09h-2.898V9.74l1.081 1.073z" />
                <path d="M33.552 22.112v-4.409h.665l.618-.611-7.322-7.322h-.909v1.269h-2.13L23.205 9.77h-3.516l-7.314 7.314.618.618h.979v4.409h-1.911C9.203 19.377 8.443 13.176 8.71 8.563l.047-.094h.023c1.25 0 2.358.606 3.048 1.54l.007.01c.52.703.833 1.588.833 2.545 0 .66-.148 1.285-.414 1.844l.011-.026a3.842 3.842 0 0 0 1.518-.78l-.006.005a4.254 4.254 0 0 0 1.461-3.213c0-.955-.314-1.836-.844-2.546l.008.011A3.71 3.71 0 0 0 10.28 6.48l.026-.007c.265-.165.57-.311.891-.422l.032-.01a3.891 3.891 0 0 1 1.363-.241c1.083 0 2.064.433 2.781 1.134l-.001-.001a3.516 3.516 0 0 0-.093-1.685l.007.025a3.786 3.786 0 0 0-4.991-2.293l.025-.009a5.067 5.067 0 0 0-.702.303l.029-.014a4.551 4.551 0 0 0-.301-.909l.012.029C8.478.407 6.46-.525 4.847.29a2.989 2.989 0 0 0-1.09.95l-.006.01A3.664 3.664 0 0 1 6.53 3.003l.009.016a5.048 5.048 0 0 0-1.179-.417l-.034-.006C2.846 2.063.486 3.41.063 5.611a3.74 3.74 0 0 0 .109 1.812l-.007-.026a4.553 4.553 0 0 1 4.543-1.402l-.032-.007c.409.086.771.21 1.11.373l-.029-.013a4.114 4.114 0 0 0-4.117 2.04l-.011.02a4.59 4.59 0 0 0-.643 2.357c0 1.568.777 2.954 1.968 3.794l.015.01a4.028 4.028 0 0 0 1.709.648l.021.002a4.665 4.665 0 0 1-.671-2.423c0-.873.237-1.691.651-2.392l-.012.022a4.204 4.204 0 0 1 2.927-2.048l.025-.004c-1.417 6.453-1.809 10.949-.64 13.736H3.573v1.88h32.148v-1.88h-2.169zm-7.95-4.307h7.166v4.307h-7.166zm-10.861-.854 4.95-4.95 4.95 4.95v5.161h-5.435v-3.884h-2.749v3.884h-1.722v-5.161z" />
              </g>
            </svg>
          </button>
          <p className="text-xs mt-2 text-center">
            Desa <br /> Wisata
          </p>
        </div>
        <div className="flex flex-col items-center w-fit">
          <button
            onClick={() => {
              navigate("/find/agrikultur");
              setOtherSelected(true);
              setState(false);
            }}
            className={`w-12 h-12 ${
              activeCategory === "Agrikultur" ? "bg-red-600" : "bg-[#0795ff]"
            } rounded-full grid place-content-center`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={64}
              height={64}
              fill="none"
              stroke="#000"
              strokeWidth={0}
              viewBox="0 0 48 48"
              className="w-8"
            >
              <path
                fill="#fff"
                fillRule="evenodd"
                stroke="none"
                d="M26.236 13.28C28.284 10.938 39.238 8 39.238 8s-1.862 11.716-3.5 13.59c-1.16 1.326-4.725.605-6.712.07-.873 1.382-1.61 2.912-1.996 4.508-.133.55-.723.823-1.318.61-.594-.213-.968-.832-.835-1.383.445-1.843 1.285-3.568 2.25-5.088-.88-1.704-2.42-5.28-.891-7.027ZM13.889 28H9v11h4.889v-1.906c.79-.028 1.615-.049 1.965-.035 1.676.066 2.928.457 4.194.851 1.18.369 2.374.74 3.935.857.392.029.774.067 1.144.103 1.337.132 2.521.249 3.5-.103 1.251-.45 8.397-3.865 9.29-4.764.894-.9.447-3.326-2.322-2.877-1.366.222-2.95.86-4.386 1.438-1.475.593-2.795 1.125-3.564 1.08-1.518-.09-5.538-.81-5.538-.81l4.615.055s.652.034 1.548-.594c.897-.628 1.698-2.427.358-2.427-1.34 0-2.77-.45-2.77-.45l-5.716-1.258s-1.965-.36-2.77 0c-.51.228-2.267.854-3.483 1.281V28ZM12.69 12.487s8.13 2.204 9.65 3.96c1.058 1.222.137 3.634-.522 4.99.793 1.307 1.489 2.731 1.94 4.216a1.008 1.008 0 0 1-.66 1.257.992.992 0 0 1-1.243-.665c-.367-1.21-.93-2.396-1.588-3.512-1.476.401-4.119.94-4.978-.053-1.217-1.405-2.599-10.193-2.599-10.193Zm15.853 7.486a1 1 0 0 1-.249-1.392c1.795-2.576 3.22-4.245 4.212-5.279.496-.517.883-.876 1.154-1.11a8.394 8.394 0 0 1 .408-.333l.029-.021.01-.007.004-.003.001-.001c.001 0 .002-.001.572.811l-.57-.812a1 1 0 0 1 1.154 1.633l-.007.005a6.289 6.289 0 0 0-.29.238c-.223.193-.566.509-1.021.984-.911.95-2.272 2.537-4.015 5.038a1 1 0 0 1-1.392.249Zm-7.828.107a1.012 1.012 0 0 1-.249 1.4.988.988 0 0 1-1.385-.25c-.93-1.349-1.65-2.196-2.124-2.696a7.983 7.983 0 0 0-.521-.508 2.997 2.997 0 0 0-.113-.095l-.017-.013a1.011 1.011 0 0 1-.233-1.395.989.989 0 0 1 1.386-.245l-.57.819.57-.819h.001l.002.002.003.002.008.006.02.015.058.045c.048.037.11.09.19.158.157.138.376.344.653.636.554.584 1.34 1.514 2.32 2.938Z"
                clipRule="evenodd"
              />
            </svg>
          </button>
          <p className="text-xs mt-2 text-center">Agrikultur</p>
        </div>
      </motion.div>
    </div>
  );
};

export default ModalProductCategory;
